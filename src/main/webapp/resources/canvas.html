<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    #canvas {
	background-color: white;
	border: 4px dashed black;
	margin-left: 35%;
	margin-top: 80px;
}

.options {
	margin-left: 39%;
	margin-top: 10px;
}
</style>
<script src="./js/canvas.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<body>
<canvas id="canvas" width="480" height="240"></canvas>
<div class="options">
    <input type="button" id="clear" value="ğŸ’¨ ì§€ìš°ê¸°" />
    <button id="next_page" onclick='canvastoimage()'>ë‹¤ìŒ</button>
</div>
<script>
            var canvas;
            var ctx;
            var sx, sy;                      // í˜„ì¬ ìœ„ì¹˜
            var drawing = false;          // í˜„ì¬ ê·¸ë¦¬ëŠ” ì¤‘ì¸ê°€?
            window.onload = function() {
                 canvas = document.getElementById("canvas");
                 if (canvas == null || canvas.getContext == null) return;
                 ctx = canvas.getContext("2d");
                 ctx.lineCap="round";
                 // í˜„ì¬ ìœ„ì¹˜ë¥¼ ì €ì¥í•œë‹¤.
                 canvas.onmousedown = function(e) {
                      e.preventDefault();
                      sx = canvasX(e.clientX);
                      sy = canvasY(e.clientY);
                      drawing = true;
                 }
                 // í˜„ì¬ ìœ„ì¹˜ì—ì„œ ìƒˆë¡œ ì´ë™í•œ ê³³ê¹Œì§€ ì„ ì„ ê·¸ë¦°ë‹¤.
                 canvas.onmousemove = function(e) {
                      if (drawing) {
                           e.preventDefault();
                           ctx.beginPath();
                           ctx.moveTo(sx, sy);
                           sx = canvasX(e.clientX);
                           sy = canvasY(e.clientY);
                           ctx.lineTo(sx, sy);
                           ctx.stroke();
                           ctx.lineWidth = 15;
                      }
                 }
                 // ê·¸ë¦¬ê¸°ë¥¼ ì¢…ë£Œí•œë‹¤.
                 canvas.onmouseup = function(e) {
                      drawing = false;
                 }
            }

            // ì„  ìƒ‰ìƒ ë³€ê²½
            // var selcolor = document.getElementById("selcolor");
            //selcolor.onchange = function(e) {
            //     ctx.strokeStyle = selcolor.value;
            //}
            // ì„  êµµê¸° ë³€ê²½
            //var selwidth = document.getElementById("selwidth");
            //selwidth.onchange = function(e) {
            //     ctx.lineWidth = selwidth.value;
            //}
            // ëª¨ë‘ ì§€ìš°ê¸°
            var btnclear = document.getElementById("clear");
            btnclear.onclick = function(e) {
                 ctx.clearRect(0, 0, canvas.width, canvas.height);
            }
            function canvasX(clientX) {
                 var bound = canvas.getBoundingClientRect();
                 var bw = 5;
                 return (clientX - bound.left - bw) * (canvas.width / (bound.width - bw * 2));
            }
            function canvasY(clientY) {
                 var bound = canvas.getBoundingClientRect();
                 var bw = 5;
                 return (clientY - bound.top - bw) * (canvas.height / (bound.height - bw * 2));
            }
    </script>
</body>
</html>